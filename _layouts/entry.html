---
layout: default
---

<article class="post">
  {%- assign e = page.entry | default: page -%}
  {%- assign category_value = e.category_of_entry | default: page.category_of_entry -%}
  {%- assign license_items = page.licenses -%}
  {%- if license_items == nil and page.license -%}
    {%- assign license_items = "" | split: "" -%}
    {%- assign license_items = license_items | push: page.license -%}
  {%- endif -%}
  {%- assign has_outgoing_connections = page.connections and page.connections.size > 0 -%}

  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>

    {%- if e.thumbnail -%}
      {%- assign thumb = e.thumbnail -%}
      <div style="float:right; margin: 0 0 1rem 1rem; max-width: 240px;">
        {%- if thumb contains "/" -%}
          <img
            src="{{ thumb | relative_url }}"
            alt="{{ page.title }} thumbnail"
            loading="lazy"
            style="width:100%; height:auto; border-radius:8px;"
          />
        {%- else -%}
          <div style="border:1px solid #ddd; border-radius:8px; padding:.75rem;">
            <strong>Thumbnail:</strong> {{ thumb }}
          </div>
        {%- endif -%}
      </div>
    {%- endif -%}

    {%- if e.short_description -%}
      <p class="post-meta" style="margin-top:.5rem;">{{ e.short_description }}</p>
    {%- endif -%}

    {%- if category_value == "Work" or category_value == "Collection" -%}
      {%- if license_items and license_items.size > 0 -%}
        <div class="FLO-work" style="margin-top:.75rem;">
          {%- if category_value == "Collection" -%}
            At least part of this collection is under a free and open licence.
          {%- else -%}
            At least part of this work is under a free and open licence.
          {%- endif -%}
        </div>
      {%- else -%}
        <div class="non-FLO-work" style="margin-top:.75rem;">
          {%- if category_value == "Collection" -%}
            This collection may not be under a free and open licence.
          {%- else -%}
            This work may not be under a free and open licence.
          {%- endif -%}
        </div>
      {%- endif -%}
    {%- endif -%}

    {%- if e.main_url -%}
      <p style="margin:.5rem 0 0;">
        <strong>Main URL:</strong>
        <a href="{{ e.main_url }}" rel="nofollow">{{ e.main_url }}</a>
      </p>
    {%- endif -%}
  </header>

  {%- if e.main_description -%}
    <section style="margin-top:1rem;">
      <p>{{ e.main_description }}</p>
    </section>
  {%- endif -%}

  <section style="margin-top:1.25rem;">
    <h2>Details</h2>
    <table>
      <tbody>
        {%- if e.subtitle -%}
          <tr><th style="text-align:left;">Subtitle</th><td>{{ e.subtitle }}</td></tr>
        {%- endif -%}

        {%- if e.work_or_source -%}
          <tr><th style="text-align:left;">Work or Source</th><td>{{ e.work_or_source }}</td></tr>
        {%- endif -%}

        {%- if e.year_of_publication -%}
          <tr><th style="text-align:left;">Year of Publication</th><td>{{ e.year_of_publication }}</td></tr>
        {%- endif -%}

        {%- if e.alias -%}
          <tr><th style="text-align:left;">Alias</th><td>{{ e.alias }}</td></tr>
        {%- endif -%}

        {%- if e.wikidata_code or page.wikidata_code -%}
          {%- assign wikidata_code = e.wikidata_code | default: page.wikidata_code -%}
          <tr>
            <th style="text-align:left;">Wikidata</th>
            <td>
              <a href="https://www.wikidata.org/wiki/{{ wikidata_code }}" rel="nofollow">{{ wikidata_code }}</a>
            </td>
          </tr>
        {%- endif -%}
      </tbody>
    </table>
  </section>

  {%- if license_items and license_items.size > 0 -%}
    <section style="margin-top:1.25rem;">
      <h3>Licensing</h3>
      <table>
        <thead>
          <tr>
            <th style="text-align:left;">Licence</th>
            <th style="text-align:left;">Coverage</th>
            <th style="text-align:left;">Explanation</th>
          </tr>
        </thead>
        <tbody>
          {%- for license_item in license_items -%}
            <tr>
              <td>
                {%- assign license_doc = site.licenses | where: "title", license_item.licence | first -%}
                {%- if license_doc -%}
                  <a href="{{ license_doc.url | relative_url }}">{{ license_item.licence }}</a>
                {%- else -%}
                  {{ license_item.licence | default: "—" }}
                {%- endif -%}
              </td>
              <td>{{ license_item.licence_coverage | default: "—" }}</td>
              <td>
                {%- if license_item.explanation -%}
                  <a href="{{ license_item.explanation }}" rel="nofollow">{{ license_item.explanation }}</a>
                {%- else -%}
                  —
                {%- endif -%}
              </td>
            </tr>
          {%- endfor -%}
        </tbody>
      </table>
    </section>
  {%- endif -%}

  {%- if has_outgoing_connections -%}
    <section style="margin-top:1.5rem; clear:both;">
      <h2>Connections</h2>
      <h3>Outgoing</h3>
      <table>
        <thead>
          <tr>
            <th style="text-align:left;">Has Link To</th>
            <th style="text-align:left;">Relationship</th>
            <th style="text-align:left;">Explanation</th>
          </tr>
        </thead>
        <tbody>
          {%- for c in page.connections -%}
            <tr>
              <td>
                {%- assign connection_name = c.has_connection_to_entry -%}
                {%- assign connection_doc = site.entries | where: "title", connection_name | first -%}
                {%- if connection_doc -%}
                  <a href="{{ connection_doc.url | relative_url }}">{{ connection_name }}</a>
                {%- else -%}
                  {{ connection_name }}
                {%- endif -%}
              </td>
              <td>{{ c.details_of_connection | default: "—" }}</td>
              <td>
                {%- if c.explanation -%}
                  {{ c.explanation }}
                {%- else -%}
                  —
                {%- endif -%}
              </td>
            </tr>
          {%- endfor -%}
        </tbody>
      </table>
    </section>
  {%- endif -%}

  {%- assign inbound_rows = "" -%}
  {%- for entry in site.entries -%}
    {%- if entry.connections -%}
      {%- for connection in entry.connections -%}
        {%- if connection.has_connection_to_entry == page.title -%}
          {%- capture inbound_rows -%}
            {{ inbound_rows }}
            <tr>
              <td><a href="{{ entry.url | relative_url }}">{{ entry.title }}</a></td>
              <td>{{ connection.details_of_connection | default: "—" }}</td>
              <td>{{ connection.explanation | default: "—" }}</td>
            </tr>
          {%- endcapture -%}
        {%- endif -%}
      {%- endfor -%}
    {%- endif -%}
  {%- endfor -%}

  {%- if inbound_rows != "" -%}
    <section style="margin-top:1.5rem;">
      {%- unless has_outgoing_connections -%}
        <h2>Connections</h2>
      {%- endunless -%}
      <h3>Incoming</h3>
      <table>
        <thead>
          <tr>
            <th style="text-align:left;">Linked From</th>
            <th style="text-align:left;">Relationship</th>
            <th style="text-align:left;">Explanation</th>
          </tr>
        </thead>
        <tbody>
          {{ inbound_rows }}
        </tbody>
      </table>
    </section>
  {%- endif -%}

  {%- if page.genres and page.genres.size > 0 -%}
    <section style="margin-top:1.5rem;">
      <h2>Genre</h2>
      <table>
        <thead>
          <tr>
            <th style="text-align:left;">Genre</th>
            <th style="text-align:left;">Explanation</th>
          </tr>
        </thead>
        <tbody>
          {%- for g in page.genres -%}
            {%- if g.genre -%}
              {%- assign genre_name = g.genre -%}
              {%- assign genre_slug = genre_name | slugify -%}
              <tr>
                <td><a href="{{ '/genre/' | append: genre_slug | append: '/' | relative_url }}">{{ genre_name }}</a></td>
                <td>{{ g.explanation | default: "—" }}</td>
              </tr>
            {%- else -%}
              {%- assign genre_name = g -%}
              {%- assign genre_slug = genre_name | slugify -%}
              <tr>
                <td><a href="{{ '/genre/' | append: genre_slug | append: '/' | relative_url }}">{{ genre_name }}</a></td>
                <td>—</td>
              </tr>
            {%- endif -%}
          {%- endfor -%}
        </tbody>
      </table>
    </section>
  {%- endif -%}

  {%- if page.languages and page.languages.size > 0 -%}
    <section style="margin-top:1.5rem;">
      <h2>Language</h2>
      <table>
        <thead>
          <tr>
            <th style="text-align:left;">Language</th>
            <th style="text-align:left;">Relationship</th>
            <th style="text-align:left;">Explanation</th>
          </tr>
        </thead>
        <tbody>
          {%- for l in page.languages -%}
            <tr>
              <td>
  {%- assign lang_name = l.language | default: l -%}
  {%- assign lang_slug = lang_name | slugify -%}
  {%- assign lang_doc = site.languages | where: "slug", lang_slug | first -%}

  {%- if lang_doc -%}
    <a href="{{ lang_doc.url | relative_url }}">{{ lang_name }}</a>
  {%- else -%}
    <a href="{{ '/language/' | append: lang_slug | append: '/' | relative_url }}">{{ lang_name }}</a>
  {%- endif -%}
</td>

              <td>{{ l.relationship_of_language | default: "—" }}</td>
              <td>{{ l.explanation | default: "—" }}</td>
            </tr>
          {%- endfor -%}
        </tbody>
      </table>
    </section>
  {%- endif -%}

  {%- if page.groupings and page.groupings.size > 0 -%}
    <section style="margin-top:1.5rem;">
      <h2>Grouping</h2>
      <table>
        <thead>
          <tr>
            <th style="text-align:left;">Grouping</th>
            <th style="text-align:left;">Is/About</th>
            <th style="text-align:left;">Explanation</th>
          </tr>
        </thead>
        <tbody>
          {%- for g in page.groupings -%}
            <tr>
              <td>
                {%- assign grouping_name = g.grouping | default: g -%}
                {%- assign grouping_doc = site.groupings | where: "title", grouping_name | first -%}
                {%- if grouping_doc -%}
                  <a href="{{ grouping_doc.url | relative_url }}">{{ grouping_name }}</a>
                {%- else -%}
                  <span>{{ grouping_name }}</span>
                {%- endif -%}
              </td>
              <td>{{ g.is_or_about_grouping | default: "—" }}</td>
              <td>{{ g.explanation | default: "—" }}</td>
            </tr>
          {%- endfor -%}
        </tbody>
      </table>
    </section>
  {%- endif -%}

  {%- if page.types and page.types.size > 0 -%}
    <section style="margin-top:1.5rem;">
      <h2>Type</h2>
      <table>
        <thead>
          <tr>
            <th style="text-align:left;">Type</th>
            <th style="text-align:left;">Distribution</th>
            <th style="text-align:left;">Explanation</th>
          </tr>
        </thead>
        <tbody>
          {%- for t in page.types -%}
            <tr>
              <td>{{ t.type | default: t }}</td>
              <td>{{ t.distribution | default: "—" }}</td>
              <td>{{ t.explanation | default: "—" }}</td>
            </tr>
          {%- endfor -%}
        </tbody>
      </table>
    </section>
  {%- endif -%}

  {%- if page.funding -%}
    <section style="margin-top:1.5rem;">
      <h2>Funding</h2>
      <table>
        <thead>
          <tr>
            <th style="text-align:left;">Funding Tool</th>
            <th style="text-align:left;">Funding Type</th>
            <th style="text-align:left;">Explanation</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              {%- if page.funding.funding_tool -%}
                {%- assign funding_name = page.funding.funding_tool -%}
                {%- assign funding_slug = funding_name | slugify -%}
                <a href="{{ '/funding/' | append: funding_slug | append: '/' | relative_url }}">{{ funding_name }}</a>
              {%- else -%}
                —
              {%- endif -%}
            </td>
            <td>{{ page.funding.funding_type | default: "—" }}</td>
            <td>
              {%- if page.funding.explanation -%}
                <a href="{{ page.funding.explanation }}" rel="nofollow">{{ page.funding.explanation }}</a>
              {%- else -%}
                —
              {%- endif -%}
            </td>
          </tr>
        </tbody>
      </table>
    </section>
  {%- endif -%}

  {%- if page.versions and page.versions.size > 0 -%}
    <section style="margin-top:1.5rem;">
      <h2>Versions</h2>

      <table>
        <thead>
          <tr>
            <th style="text-align:left;">Version</th>
            <th style="text-align:left;">Format</th>
            <th style="text-align:left;">Price</th>
            <th style="text-align:left;">File</th>
            <th style="text-align:left;">Explanation</th>
          </tr>
        </thead>
        <tbody>
          {%- for v in page.versions -%}
            <tr>
              <td>
                {%- if v.version_url -%}
                  <a href="{{ v.version_url }}" rel="nofollow">
                    {{ v.version_title | default: "Untitled version" }}
                  </a>
                {%- else -%}
                  {{ v.version_title | default: "Untitled version" }}
                {%- endif -%}
              </td>
              <td>{{ v.version_format | default: "—" }}</td>
              <td>
                {%- if v.version_price == 0 -%}
                  Free
                {%- elsif v.version_price -%}
                  ${{ v.version_price }}
                {%- else -%}
                  —
                {%- endif -%}
              </td>
              <td>
                {%- if v.version_file -%}
                  <a href="{{ v.version_file }}" rel="nofollow">{{ v.version_file }}</a>
                {%- else -%}
                  —
                {%- endif -%}
              </td>
              <td>{{ v.explanation | default: "—" }}</td>
            </tr>
          {%- endfor -%}
        </tbody>
      </table>
    </section>
  {%- endif -%}

  {%- if content and content != "" -%}
    <section style="margin-top:1.5rem;">
      <h2>Notes</h2>
      <div class="post-content">
        {{ content }}
      </div>
    </section>
  {%- endif -%}

</article>
