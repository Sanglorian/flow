---
layout: default
---

<article class="post">
  {%- assign e = page.entry | default: page -%}
  {%- assign category_value = e.category_of_entry | default: page.category_of_entry -%}
  {%- assign category_display = category_value -%}
  {%- if category_value and category_value[1] and category_value[1].size > 1 -%}
    {%- assign category_display = category_value | join: ", " -%}
  {%- endif -%}
  {%- assign license_items = page.licensing -%}
  {%- assign funding_items = page.funding -%}
  {%- if funding_items and funding_items.funding_tool -%}
    {%- assign funding_items = "" | split: "" -%}
    {%- assign funding_items = funding_items | push: page.funding -%}
  {%- endif -%}
  {%- assign flo_certifications = "Open Definition recommended conformant licence|Open Definition other conformant licence|Definition of Free Cultural Works conformant licence|Open Source Definition compliant licence|GPL-compatible free software licence" | split: "|" -%}
  {%- assign has_flo_license = false -%}
  {%- assign has_public_domain_license = false -%}
  {%- if license_items and license_items.size > 0 -%}
    {%- for license_item in license_items -%}
      {%- assign license_title = license_item.license | default: license_item.licence -%}
      {%- assign license_title_downcase = license_title | downcase -%}
      {%- if license_title_downcase contains "public domain" -%}
        {%- assign has_public_domain_license = true -%}
      {%- endif -%}
      {%- assign license_doc = site.licenses | where: "title", license_title | first -%}
      {%- if license_doc and license_doc.license_certification and license_doc.license_certification.size > 0 -%}
        {%- for cert in license_doc.license_certification -%}
          {%- if flo_certifications contains cert -%}
            {%- assign has_flo_license = true -%}
          {%- endif -%}
        {%- endfor -%}
      {%- endif -%}
    {%- endfor -%}
  {%- endif -%}
  {%- assign has_outgoing_connections = false -%}
  {%- if page.connections and page.connections.size > 0 -%}
    {%- assign has_outgoing_connections = true -%}
  {%- endif -%}

  <header class="post-header">
    {%- if category_value contains "Work" or category_value contains "Collection" -%}
      {%- if has_flo_license -%}
        <div class="FLO-work" style="margin-top:.75rem; border:2px solid #1e6bd6; padding:.75rem; border-radius:8px;">
          At least part of this work or collection is under a <a href="/FLO-licenses/">free, libre and open license</a>.
        </div>
      {%- elsif has_public_domain_license -%}
        <div class="public-domain-work" style="margin-top:.75rem; border:2px solid #f59f00; padding:.75rem; border-radius:8px;">
          The public domain varies from country-to-country, and there are concerns about "declaring" something to be public domain.
        </div>
      {%- else -%}
        <div class="non-FLO-work" style="margin-top:.75rem; border:2px solid #cc2b2b; padding:.75rem; border-radius:8px;">
          This may not be under a <a href="/FLO-licenses/">free, libre or open license</a>.
        </div>
      {%- endif -%}
    {%- endif -%}

    <h1 class="post-title">{{ page.title }}</h1>

    {%- if e.thumbnail -%}
      {%- assign thumb = e.thumbnail -%}
      <div class="entry-thumbnail">
        {%- if thumb contains "/" -%}
          <img
            src="{{ thumb | relative_url }}"
            alt="{{ page.title }} thumbnail"
            loading="lazy"
            class="entry-thumbnail-image"
          />
        {%- else -%}
          <div style="border:1px solid #ddd; border-radius:8px; padding:.75rem;">
            <strong>Thumbnail:</strong> {{ thumb }}
          </div>
        {%- endif -%}
      </div>
    {%- endif -%}

    {%- if e.short_description -%}
      <p class="post-meta" style="margin-top:.5rem;">{{ e.short_description }}</p>
    {%- endif -%}

    {%- if e.main_url -%}
      <p class="main-url" style="margin:.5rem 0 0;">
        <strong>        <a href="{{ e.main_url }}" rel="nofollow">{{ e.main_url }}</a></strong>
      </p>
    {%- endif -%}
  </header>

  {%- if e.main_description -%}
    <section style="margin-top:1rem;">
      {{ e.main_description | markdownify }}
    </section>
  {%- endif -%}

  <section style="margin-top:1.25rem;">
    <h2>{{ category_display }}</h2>
 
        {%- if e.subtitle -%}
          <p><strong>Subtitle </strong>{{ e.subtitle }}</p>
        {%- endif -%}

        {%- if e.year_of_publication -%}
          <p><strong>Year of Publication </strong>{{ e.year_of_publication }}</p>
        {%- endif -%}

        {%- if e.alias -%}
          <p><strong>Aliases</strong>{{ e.alias }}</p>
        {%- endif -%}

        {%- if e.wikidata_code or page.wikidata_code -%}
          {%- assign wikidata_code = e.wikidata_code | default: page.wikidata_code -%}
          <p><strong>Wikidata </strong>
            
              <a href="https://www.wikidata.org/wiki/{{ wikidata_code }}" rel="nofollow">{{ wikidata_code }}</a>
            </p>
        {%- endif -%}
      </tbody>
    </table>
  </section>

  {%- if license_items and license_items.size > 0 -%}
    {%- assign licensing_text = "" -%}
    {%- for license_item in license_items -%}
      {%- assign license_title = license_item.license | default: license_item.licence -%}
      {%- assign license_doc = site.licenses | where: "title", license_title | first -%}
      {%- assign license_coverage = license_item.licence_coverage | default: license_item.license_coverage -%}
      {%- capture license_entry -%}
        {%- if license_doc -%}
          <a href="{{ license_doc.url | relative_url }}">{{ license_title }}</a>
        {%- else -%}
          {{ license_title }}
        {%- endif -%}
        {%- if license_coverage -%}
          <span> ({{ license_coverage }})</span>
        {%- endif -%}
        {%- if license_item.explanation -%}
          {%- capture license_explanation -%}
            {%- assign explanation_text = license_item.explanation | strip -%}
            {%- if explanation_text contains "http://" or explanation_text contains "https://" -%}
              {%- assign explanation_parts = explanation_text | split: " " -%}
              {%- if explanation_parts.size == 1 -%}
                <a href="{{ explanation_text }}" rel="nofollow">{{ explanation_text }}</a>
              {%- else -%}
                {{ explanation_text }}
              {%- endif -%}
            {%- else -%}
              {{ explanation_text }}
            {%- endif -%}
          {%- endcapture -%}
          <span class="explanation"> {{ license_explanation | strip }}</span>
        {%- endif -%}
      {%- endcapture -%}
      {%- if licensing_text != "" -%}
        {%- assign licensing_text = licensing_text | append: ", " -%}
      {%- endif -%}
      {%- assign licensing_text = licensing_text | append: license_entry | strip -%}
    {%- endfor -%}
    <section style="margin-top:1.25rem;">
      <p><strong>Licensing</strong> {{ licensing_text }}</p>
    </section>
  {%- endif -%}

  {%- assign connections_list = "" -%}
  {%- if has_outgoing_connections -%}
    {%- for c in page.connections -%}
      {%- assign connection_name = c.has_connection_to_entry -%}
      {%- assign connection_doc = site.entries | where: "title", connection_name | first -%}
      {%- capture connection_entry -%}
        <li>
          {%- if connection_doc -%}
            <a href="{{ connection_doc.url | relative_url }}">{{ connection_name }}</a>
          {%- else -%}
            {{ connection_name }}
          {%- endif -%}
          {%- if c.details_of_connection -%}
            <span> ({{ c.details_of_connection }})</span>
          {%- endif -%}
          {%- if c.explanation -%}
            <span class="explanation"> {{ c.explanation }}</span>
          {%- endif -%}
        </li>
      {%- endcapture -%}
      {%- assign connections_list = connections_list | append: connection_entry | strip -%}
    {%- endfor -%}
  {%- endif -%}

  {%- assign inbound_text = "" -%}
  {%- for entry in site.entries -%}
    {%- if entry.connections -%}
      {%- for connection in entry.connections -%}
        {%- if connection.has_connection_to_entry == page.title -%}
          {%- capture inbound_entry -%}
            <li>
              {%- if connection.details_of_connection -%}
                <span>{{ connection.details_of_connection }}</span>&nbsp;
              {%- endif -%}
              <a href="{{ entry.url | relative_url }}">{{ entry.title }}</a>
              {%- if connection.explanation -%}
                <span class="explanation"> {{ connection.explanation }}</span>
              {%- endif -%}
            </li>
          {%- endcapture -%}
          {%- assign inbound_text = inbound_text | append: inbound_entry | strip -%}
        {%- endif -%}
      {%- endfor -%}
    {%- endif -%}
  {%- endfor -%}

  {%- assign connections_list = connections_list | append: inbound_text | strip -%}

  {%- if connections_list != "" -%}
    <section style="margin-top:1.5rem; clear:both;">
      <h3>Connections</h3>
      <ul>
        {{ connections_list }}
      </ul>
    </section>
  {%- endif -%}

  {%- if page.genres and page.genres.size > 0 -%}
    {%- assign genre_text = "" -%}
    {%- for g in page.genres -%}
      {%- if g.genre -%}
        {%- assign genre_name = g.genre -%}
        {%- assign genre_explanation = g.explanation -%}
      {%- else -%}
        {%- assign genre_name = g -%}
        {%- assign genre_explanation = nil -%}
      {%- endif -%}
      {%- assign genre_slug = genre_name | slugify -%}
      {%- capture genre_entry -%}
        <a href="{{ '/genre/' | append: genre_slug | append: '/' | relative_url }}">{{ genre_name }}</a>
        {%- if genre_explanation -%}
          <span class="explanation"> {{ genre_explanation }}</span>
        {%- endif -%}
      {%- endcapture -%}
      {%- if genre_text != "" -%}
        {%- assign genre_text = genre_text | append: ", " -%}
      {%- endif -%}
      {%- assign genre_text = genre_text | append: genre_entry | strip -%}
    {%- endfor -%}
    <section style="margin-top:1.5rem;">
      <p><strong>Genre</strong> {{ genre_text }}</p>
    </section>
  {%- endif -%}

  {%- if page.languages and page.languages.size > 0 -%}
    {%- assign language_text = "" -%}
    {%- for l in page.languages -%}
      {%- assign lang_name = l.language | default: l -%}
      {%- assign lang_slug = lang_name | slugify -%}
      {%- assign lang_doc = site.languages | where: "slug", lang_slug | first -%}
      {%- capture language_entry -%}
        {%- if lang_doc -%}
          <a href="{{ lang_doc.url | relative_url }}">{{ lang_name }}</a>
        {%- else -%}
          <a href="{{ '/language/' | append: lang_slug | append: '/' | relative_url }}">{{ lang_name }}</a>
        {%- endif -%}
        {%- if l.relationship_of_language -%}
          <span> ({{ l.relationship_of_language }})</span>
        {%- endif -%}
        {%- if l.explanation -%}
          <span class="explanation"> {{ l.explanation }}</span>
        {%- endif -%}
      {%- endcapture -%}
      {%- if language_text != "" -%}
        {%- assign language_text = language_text | append: ", " -%}
      {%- endif -%}
      {%- assign language_text = language_text | append: language_entry | strip -%}
    {%- endfor -%}
    <section style="margin-top:1.5rem;">
      <p><strong>Language</strong> {{ language_text }}</p>
    </section>
  {%- endif -%}

  {%- if page.groupings and page.groupings.size > 0 -%}
    {%- assign grouping_text = "" -%}
    {%- for g in page.groupings -%}
      {%- assign grouping_name = g.grouping | default: g -%}
      {%- assign grouping_doc = site.groupings | where: "title", grouping_name | first -%}
      {%- capture grouping_entry -%}
        {%- if g.is_or_about_grouping == "About" -%}
          About<span> </span>
        {%- endif -%}
        {%- if grouping_doc -%}
          <a href="{{ grouping_doc.url | relative_url }}">{{ grouping_name }}</a>
        {%- else -%}
          <span>{{ grouping_name }}</span>
        {%- endif -%}
        {%- if g.explanation -%}
          <span class="explanation"> {{ g.explanation }}</span>
        {%- endif -%}
      {%- endcapture -%}
      {%- if grouping_text != "" -%}
        {%- assign grouping_text = grouping_text | append: ", " -%}
      {%- endif -%}
      {%- assign grouping_text = grouping_text | append: grouping_entry | strip -%}
    {%- endfor -%}
    <section style="margin-top:1.5rem;">
      <p><strong>Grouping</strong> {{ grouping_text }}</p>
    </section>
  {%- endif -%}

  {%- if page.types and page.types.size > 0 -%}
    {%- assign type_text = "" -%}
    {%- for t in page.types -%}
      {%- capture type_entry -%}
        {{ t.type | default: t }}
        {%- if t.distribution -%}
          <span> ({{ t.distribution }})</span>
        {%- endif -%}
        {%- if t.explanation -%}
          <span class="explanation"> {{ t.explanation }}</span>
        {%- endif -%}
      {%- endcapture -%}
      {%- if type_text != "" -%}
        {%- assign type_text = type_text | append: ", " -%}
      {%- endif -%}
      {%- assign type_text = type_text | append: type_entry | strip -%}
    {%- endfor -%}
    <section style="margin-top:1.5rem;">
      <p><strong>Type</strong> {{ type_text }}</p>
    </section>
  {%- endif -%}

  {%- if funding_items and funding_items.size > 0 -%}
    {%- assign funding_text = "" -%}
    {%- for funding_item in funding_items -%}
      {%- capture funding_entry -%}
        {%- if funding_item.funding_tool -%}
          {%- assign funding_name = funding_item.funding_tool -%}
          {%- assign funding_slug = funding_name | slugify -%}
          <a href="{{ '/funding/' | append: funding_slug | append: '/' | relative_url }}">{{ funding_name }}</a>
        {%- else -%}
          —
        {%- endif -%}
        {%- if funding_item.funding_type -%}
          <span> ({{ funding_item.funding_type }})</span>
        {%- endif -%}
        {%- if funding_item.explanation -%}
          {%- assign explanation_text = funding_item.explanation | strip -%}
          <span class="explanation">
            {%- if explanation_text contains "http://" or explanation_text contains "https://" -%}
              {%- assign explanation_parts = explanation_text | split: " " -%}
              {%- if explanation_parts.size == 1 -%}
                <a href="{{ explanation_text }}" rel="nofollow">{{ explanation_text }}</a>
              {%- else -%}
                {{ explanation_text }}
              {%- endif -%}
            {%- else -%}
              {{ explanation_text }}
            {%- endif -%}
          </span>
        {%- endif -%}
      {%- endcapture -%}
      {%- if funding_text != "" -%}
        {%- assign funding_text = funding_text | append: ", " -%}
      {%- endif -%}
      {%- assign funding_text = funding_text | append: funding_entry | strip -%}
    {%- endfor -%}
    <section style="margin-top:1.5rem;">
      <p><strong>Funding</strong> {{ funding_text }}</p>
    </section>
  {%- endif -%}

  {%- if page.versions and page.versions.size > 0 -%}
    <section style="margin-top:1.5rem;">
      <h2>Versions</h2>

      <table>
        <thead>
          <tr>
            <th style="text-align:left;">Version</th>
            <th style="text-align:left;">Format</th>
            <th style="text-align:left;">Price</th>
            <th style="text-align:left;">File</th>
            <th style="text-align:left;">Explanation</th>
          </tr>
        </thead>
        <tbody>
          {%- for v in page.versions -%}
            <tr>
              <td>
                {%- if v.version_url -%}
                  <a href="{{ v.version_url }}" rel="nofollow">
                    {{ v.version_title | default: "Untitled version" }}
                  </a>
                {%- else -%}
                  {{ v.version_title | default: "Untitled version" }}
                {%- endif -%}
              </td>
              <td>{{ v.version_format | default: "—" }}</td>
              <td>
                {%- if v.version_price == 0 -%}
                  Free
                {%- elsif v.version_price -%}
                  ${{ v.version_price }}
                {%- else -%}
                  —
                {%- endif -%}
              </td>
              <td>
                {%- if v.version_file -%}
                  <a href="{{ v.version_file }}" rel="nofollow">{{ v.version_file }}</a>
                {%- else -%}
                  —
                {%- endif -%}
              </td>
              <td><span class="explanation">{{ v.explanation | default: "—" }}</span></td>
            </tr>
          {%- endfor -%}
        </tbody>
      </table>
    </section>
  {%- endif -%}

  {%- assign notes_content = content | strip -%}
  {%- if notes_content != "" -%}
    <section style="margin-top:1.5rem;">
      <h2>Notes</h2>
      <div class="post-content">
        {{ notes_content }}
      </div>
    </section>
  {%- endif -%}

</article>
