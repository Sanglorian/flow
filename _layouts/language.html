---
layout: default
---

<article class="post">
  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>

    {%- if page.short_description -%}
      <p class="post-meta" style="margin-top:.5rem;">
        {{ page.short_description }}
      </p>
    {%- endif -%}
  </header>

  {%- if page.main_description -%}
    <section style="margin-top:1rem;">
      <p>{{ page.main_description }}</p>
    </section>
  {%- endif -%}

  {%- if page.alias or page.wikidata -%}
    <section style="margin-top:1.25rem;">
      <h2>Details</h2>
      {%- if page.alias -%}
        <p><strong>Alias </strong>{{ page.alias }}</p>
      {%- endif -%}

      {%- if page.wikidata -%}
        <p><strong>Wikidata </strong>
          <a href="https://www.wikidata.org/wiki/{{ page.wikidata }}" rel="nofollow">
            {{ page.wikidata }}
          </a>
        </p>
      {%- endif -%}
    </section>
  {%- endif -%}

  {%- assign flo_licenses = site.licenses | where_exp: "item", "item.license_certification contains 'Open Definition recommended conformant licence' or item.license_certification contains 'Open Definition other conformant licence' or item.license_certification contains 'Definition of Free Cultural Works conformant licence' or item.license_certification contains 'Open Source Definition compliant licence' or item.license_certification contains 'GPL-compatible free software licence'" -%}
  {%- assign flo_license_titles = flo_licenses | map: "title" -%}

  <section style="margin-top:1.5rem;">
    <h2>Entries in {{ page.title }}</h2>

    {%- assign flo_found = false -%}
    {%- assign non_flo_found = false -%}
    {%- assign flo_rows = "" -%}
    {%- assign non_flo_rows = "" -%}
    {%- for entry in site.entries -%}
      {%- if entry.languages -%}
        {%- for l in entry.languages -%}
          {%- assign lang_name = l.language | default: l -%}
          {%- if lang_name == page.title -%}
            {%- assign is_flo_entry = false -%}
            {%- if entry.licensing and entry.licensing.size > 0 -%}
              {%- for license in entry.licensing -%}
                {%- assign license_title = license.license | default: license.licence -%}
                {%- if license_title == "Public domain" or flo_license_titles contains license_title -%}
                  {%- assign is_flo_entry = true -%}
                {%- endif -%}
              {%- endfor -%}
            {%- endif -%}
            {%- capture row -%}
              <li>
                <a href="{{ entry.url | relative_url }}">{{ entry.title }}</a>
                {%- if l.relationship_of_language -%}
                  <span> — {{ l.relationship_of_language }}</span>
                {%- endif -%}
                {%- if l.explanation -%}
                  <span class="explanation"> — {{ l.explanation }}</span>
                {%- endif -%}
              </li>
            {%- endcapture -%}
            {%- if is_flo_entry -%}
              {%- assign flo_found = true -%}
              {%- assign flo_rows = flo_rows | append: row -%}
            {%- else -%}
              {%- assign non_flo_found = true -%}
              {%- assign non_flo_rows = non_flo_rows | append: row -%}
            {%- endif -%}
          {%- endif -%}
        {%- endfor -%}
      {%- endif -%}
    {%- endfor -%}

    <h3>FLO licensed or public domain</h3>
    <ul>
      {%- if flo_found -%}
        {{ flo_rows }}
      {%- else -%}
        <li><em>No entries listed.</em></li>
      {%- endif -%}
    </ul>

    <h3>Non-FLO licensed</h3>
    <ul>
      {%- if non_flo_found -%}
        {{ non_flo_rows }}
      {%- else -%}
        <li><em>No entries listed.</em></li>
      {%- endif -%}
    </ul>
  </section>

</article>
